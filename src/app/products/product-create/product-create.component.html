<mat-spinner *ngIf="isLoading"></mat-spinner>

<mat-card class="top-20">
  <form [formGroup]="form" (submit)="onSaveProduct()" *ngIf="!isLoading">
    <mat-form-field>
      <input
        matInput
        type="text"
        formControlName="name"
        placeholder="Product name"
      />
    </mat-form-field>

    <mat-error *ngIf="form.get('name').invalid && form.get('name').touched">
      Please enter a product title
    </mat-error>

    <div class="image__preview" *ngIf="imagPreview !== '' && imagPreview">
      <img [src]="imagPreview" [alt]="form.value.title" />
    </div>
    <div class="image__picker">
      <input type="file" #filePicker (change)="onImagePicked($event)" />
      <button (click)="filePicker.click()" mat-raised-button color="warn">
        Pick product image
      </button>
    </div>

    <mat-form-field>
      <input
        matInput
        type="number"
        formControlName="price"
        placeholder="Product price"
      />
    </mat-form-field>

    <mat-error *ngIf="form.get('price').invalid && form.get('price').touched">
      Please enter a product price
    </mat-error>

    <mat-form-field>
      <textarea
        matInput
        formControlName="description"
        placeholder="Product description"
      >
      </textarea>
    </mat-form-field>

    <mat-error
      *ngIf="form.get('description').invalid && form.get('description').touched"
    >
      Please enter a product description
    </mat-error>

    <button color="warn" mat-raised-button type="submit">
      Save
    </button>
  </form>
</mat-card>
<h1>My Application</h1>
<select [(ngModel)]="selectedValue">
  <option *ngFor="let c of countries" [value]="c.id">{{ c.name }}</option>
</select>
{{selectedValue}}
